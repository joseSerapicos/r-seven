{% extends 'BckBookingBundle:BaseBookingService:add-step1.html.twig' %}

{% block bookingServiceAddStep1_container %}
    {% embed 'AppBundle:form:form.html.twig' with {
    'form': form,
    'fields': fields
    } %}
        {% block fields %}

            {% if (form and fields) %}
                {% for field in fields['form'] %}

                    {% set fieldMetadata = fields['metadata'][field] %}

                    {% if field == 'clientObj' %}
                        {% set formField = ((fieldMetadata['parent'] is defined and fieldMetadata['parent'] is not null)
                            ? form[fieldMetadata['parent']][field]
                            : ((form[field] is defined)
                                ? form[field]
                                : null
                            )
                        ) %}

                        <div class="row form-group">
                            {% include 'AppBundle:form:label.html.twig' with {
                            'formField': formField,
                            'metadata': fieldMetadata
                            } %}
                            <div class="col-sm-10"><div class="row">
                                    <div class="col-sm-8">
                                        {% include 'AppBundle:form:input.html.twig' with {
                                        'field': field,
                                        'formField': formField,
                                        'metadata': fieldMetadata
                                        } %}
                                    </div>
                                    <div class="col-sm-4">
                                        {% include 'AppBundle:form:input.html.twig' with {
                                        'field': 'clientIsPax',
                                        'formField': form['bookingObj']['clientIsPax'],
                                        'metadata': fields['metadata']['clientIsPax']
                                        } %}
                                    </div>
                                </div></div>
                        </div>
                    {% elseif (field != 'clientIsPax') %}
                        {% include 'AppBundle:form:field.html.twig' with {
                        'field': field,
                        'metadata': fieldMetadata,
                        'form': form
                        } %}
                    {% endif %}
                {% endfor %}
            {% endif %}

        {% endblock %}
    {% endembed %}
{% endblock %}