{% extends 'AppBundle:form:form-popup.html.twig' %}

{% block body %}
    {% set form = (form is defined ? form : (_form is defined ? _form : null)) %}
    {% set fields = (fields is defined ? fields : (_conf['fields'] is defined ? _conf['fields'] : null)) %}

    <section>
    {% if (form and fields) %}
        {% for field in fields['form'] %}
            {% if field == 'confirmationStatus' %}
                <div class="row form-group">
                    {% include 'AppBundle:form:label.html.twig' with {
                        'formField': form['bookingServiceObj'][field],
                        'metadata': fields['metadata'][field]
                    } %}
                    <div class="col-sm-10"
                         *ngIf="_formService.getObject()['isAutoAllot']">
                        {% include 'AppBundle:form:input.html.twig' with {
                            'field': field,
                            'formField': form['bookingServiceObj'][field],
                            'metadata': fields['metadata'][field]
                        } %}
                    </div>
                    <div class="col-sm-10"
                         *ngIf="!_formService.getObject()['isAutoAllot']">
                        {% include 'AppBundle:form:input.html.twig' with {
                            'field': 'confirmationStatusManual',
                            'formField': form['bookingServiceObj']['confirmationStatusManual'],
                            'metadata': fields['metadata']['confirmationStatusManual']
                        } %}
                    </div>
                </div>
            {% elseif field == 'startDate' %}
                <div class="row form-group">
                    {% include 'AppBundle:form:label.html.twig' with {
                        'formField': form['bookingServiceObj'][field],
                        'metadata': fields['metadata'][field]
                    } %}
                    <div class="col-sm-10"
                         *ngIf="_formService.getObject()['isAutoAvailability'] || _formService.getObject()['isAutoAllot']">
                        {% include 'AppBundle:form:input.html.twig' with {
                            'field': field,
                            'formField': form['bookingServiceObj'][field],
                            'metadata': fields['metadata'][field]
                        } %}
                    </div>
                    <div class="col-sm-10"
                         *ngIf="!_formService.getObject()['isAutoAvailability'] && !_formService.getObject()['isAutoAllot']">
                        {% include 'AppBundle:form:input.html.twig' with {
                            'field': 'startDateManual',
                            'formField': form['bookingServiceObj']['startDateManual'],
                            'metadata': fields['metadata']['startDateManual']
                        } %}
                    </div>
                </div>
            {% elseif field == 'endDate' %}
                <div class="row form-group">
                    {% include 'AppBundle:form:label.html.twig' with {
                        'formField': form['bookingServiceObj'][field],
                        'metadata': fields['metadata'][field]
                    } %}
                    <div class="col-sm-10"
                         *ngIf="_formService.getObject()['isAutoAvailability'] || _formService.getObject()['isAutoAllot']">
                        {% include 'AppBundle:form:input.html.twig' with {
                            'field': field,
                            'formField': form['bookingServiceObj'][field],
                            'metadata': fields['metadata'][field]
                        } %}
                    </div>
                    <div class="col-sm-10"
                         *ngIf="!_formService.getObject()['isAutoAvailability'] && !_formService.getObject()['isAutoAllot']">
                        {% include 'AppBundle:form:input.html.twig' with {
                            'field': 'endDateManual',
                            'formField': form['bookingServiceObj']['endDateManual'],
                            'metadata': fields['metadata']['endDateManual']
                        } %}
                    </div>
                </div>
            {% elseif field == 'quantity' %}
                <div class="row form-group">
                    {% include 'AppBundle:form:label.html.twig' with {
                        'formField': form['bookingServiceObj'][field],
                        'metadata': fields['metadata'][field]
                    } %}
                    <div class="col-sm-10"
                         *ngIf="_formService.getObject()['isAutoAllot']">
                        {% include 'AppBundle:form:input.html.twig' with {
                            'field': field,
                            'formField': form['bookingServiceObj'][field],
                            'metadata': fields['metadata'][field]
                        } %}
                    </div>
                    <div class="col-sm-10"
                         *ngIf="!_formService.getObject()['isAutoAllot']">
                        {% include 'AppBundle:form:input.html.twig' with {
                            'field': 'quantityManual',
                            'formField': form['bookingServiceObj']['quantityManual'],
                            'metadata': fields['metadata']['quantityManual']
                        } %}
                    </div>
                </div>
            {% elseif field == 'placeObj' %}
                <ng-template [ngIf]="_formService.getObject()['type'] == 'TRAVEL'">
                    {% include 'AppBundle:form:field.html.twig' with {
                        'field': field,
                        'metadata': fields['metadata'][field],
                        'form': form
                    } %}
                    {% include 'AppBundle:form:field.html.twig' with {
                        'field': 'placeToObj',
                        'metadata': fields['metadata']['placeToObj'],
                        'form': form
                    } %}
                </ng-template>
            {% elseif (field not in ['confirmationStatusManual',
                'startDateManual', 'endDateManual', 'quantityManual', 'placeToObj'
            ]) %}
                {% include 'AppBundle:form:field.html.twig' with {
                    'field': field,
                    'metadata': fields['metadata'][field],
                    'form': form
                } %}
            {% endif %}
        {% endfor %}
    {% endif %}
    </section>

    <section><ng-template #js_lazyLoadContainer></ng-template></section>
{% endblock %}