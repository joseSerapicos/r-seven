{% extends 'AppBundle:data-box:base-popup.html.twig' %}

{% block body %}
    {% block wizard_header %}{% endblock %}

    {% block wizard_container %}
        {% if (_containers is defined) %}
            <ul class="row mb-3 no-gutters wizard-nav">
                {% for key, value in _containers %}
                    <li class="col-auto wizard-step"
                        [class.step-active]="{{key}} == _wizardManagerService.getIndex()">
                        <span class="step-number">{{key + 1}}</span>
                        <span class="step-text">{{value['label']}}</span>
                    </li>
                {% endfor %}
            </ul>

            {% block before_steps %}{% endblock %}

            {% block steps %}
                {# Override this block if you want to define static steps. #}
                {% for key, value in _containers %}
                    {% include 'AppBundle:wizard:lazy-load-container.html.twig' %}
                {% endfor %}
            {% endblock %}

            {% block after_steps %}{% endblock %}

        {% endif %}
    {% endblock %}

    {% block wizard_footer %}{% endblock %}
{% endblock %}

{% block footer_container %}
    <div class="row justify-content-center">
        <div class="col-auto">
            <button type="button" class="btn-light btn" (click)="_wizardManagerService.cancelAction($event)">Cancel</button>
            <button type="button" class="btn-primary btn" (click)="_wizardManagerService.prevAction($event)"
                    *ngIf="0 < _wizardManagerService.getIndex()">Prev</button>
            <button type="button" class="btn-primary btn" (click)="_wizardManagerService.nextAction($event)"
                    *ngIf="{{(_containers|length) - 1}} > _wizardManagerService.getIndex()">Next</button>
            {% block buttons %}
                <button type="button" class="btn-primary btn" (click)="_wizardManagerService.finishAction($event)"
                        *ngIf="{{(_containers|length) - 1}} == _wizardManagerService.getIndex()">Finish</button>
            {% endblock %}
        </div>
    </div>
{% endblock %}