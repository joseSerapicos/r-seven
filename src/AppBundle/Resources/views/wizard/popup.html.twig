{% extends 'AppBundle:data-box:base-popup.html.twig' %}

{% block body %}
    {% block wizard_header %}{% endblock %}

    {% block wizard_container %}
        {% if (_containers is defined) %}
            <div class="wizard">
                <ul class="wizard-nav">
                    {% for key, value in _containers %}
                        <li class="wizard-step"
                            [class.step-active]="{{key}} == _wizardManagerService.getIndex()">
                            <span class="step-number">{{key + 1}}</span>
                            <span class="step-text">{{value['label']}}</span>
                        </li>
                    {% endfor %}
                </ul>
            </div>

            {% block before_steps %}{% endblock %}

            {% block steps %}
                {# Override this block if you want to define static steps. #}
                {% for key, value in _containers %}
                    {% include 'AppBundle:wizard:lazy-load-container.html.twig' %}
                {% endfor %}
            {% endblock %}

            {% block after_steps %}{% endblock %}

        {% endif %}
    {% endblock %}

    {% block wizard_footer %}{% endblock %}
{% endblock %}

{% block footer_container %}
    <div class="form-horizontal">
        <div class="form-group">
            <div class="col-sm-10 col-sm-offset-2">
                <button class="btn-default btn" type="button" (click)="_wizardManagerService.cancelAction($event)">Cancel</button>
                <button class="btn-primary btn" type="button" (click)="_wizardManagerService.prevAction($event)"
                        *ngIf="0 < _wizardManagerService.getIndex()">Prev</button>
                <button class="btn-primary btn" type="button" (click)="_wizardManagerService.nextAction($event)"
                        *ngIf="{{(_containers|length) - 1}} > _wizardManagerService.getIndex()">Next</button>
                {% block buttons %}
                    <button class="btn-primary btn" type="button" (click)="_wizardManagerService.finishAction($event)"
                            *ngIf="{{(_containers|length) - 1}} == _wizardManagerService.getIndex()">Finish</button>
                {% endblock %}
            </div>
        </div>
    </div>
{% endblock %}