

<div class="ibox form-horizontal form-control-box -embed-form" >
                
    <div [hidden]="!(_isExpanded)" class="ibox-content hide-on-empty">    <ng-template [ngIf]="(_dataService.getProviderAttr('objects') && _dataService.getProviderAttr('objects')[0])">
        <div class="table-responsive">
        <form>        <table class="data-table table table-striped table-hover dataTables-example">
                        <tbody>
            <ng-template ngFor let-obj [ngForOf]="_dataService.getProviderAttr('objects')" let-objIndex="index">
            <tr>                    <td class="row"><div class="col-sm-12">
        <div class="form-group">
            <div class="col-sm-12">
                <div class="badge badge-primary -badge-md pull-right">
                    <ng-template [ngIf]="obj['isOptional']">
                        <label><input type="checkbox"
                               [name]="'form[isOptional][' + obj['packageServiceServiceObj'] + ']'"
                               value="1"
                               [(ngModel)]="obj['hasOptional']"/><span class="txt-normal">&nbsp;Include</span></label>
                    </ng-template>
                    <ng-template [ngIf]="!obj['isOptional']">
                        <i class="fa fa-check"></i><span class="txt-normal">&nbsp;Included</span>
                    </ng-template>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-3" [innerHTML]="obj['thumbnail']"></div>
            <div class="col-sm-9">
                <span [innerHTML]="obj['icon']"></span>
                <span class="font-bold" [innerHTML]="obj['name']"></span>
                <div class="height52" [innerHTML]="obj['description']"></div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-3">
                <strong>From</strong>
                <div>
                    <div class="dsp-inline-block" [innerHTML]="obj['startDate']"></div>
                    <ng-template [ngIf]="obj['isAutoAvailability']
                                         && obj['isEnabledAvailability']">
                        
<span class="dsp-inline-block valign-top" [popover]="'bottom'" [align]="'left'" [elementTarget]="'prev'">
    <i class="fa fa-info-circle txt-lg txt-info js_icon"></i>
    <div class="popover fade bottom in js_popover">
        <div class="arrow arrow-left"></div>
        <h3 class="popover-title">Available dates</h3>
        <div class="popover-content">                                <ng-template [ngIf]="getControlDebug(objIndex, 'availability')">
                                    <div *ngFor="let dataRange of getControlDebug(objIndex, 'availability');">
                                        <strong>From</strong>&nbsp;{{dataRange['startDate']}}&nbsp;<strong>To</strong>&nbsp;{{dataRange['endDate']}}
                                    </div>
                                </ng-template>
                            </div>
    </div>
</span>                    </ng-template>
                </div>
            </div>
            <div class="col-sm-3">
                <strong>To</strong><div [innerHTML]="obj['endDate']"></div>
            </div>
            <div class="col-sm-3 txt-align-r">
                <strong>Quantity</strong>
                <div>
                    <div class="dsp-inline-block" [innerHTML]="obj['quantity']"></div>
                    <ng-template [ngIf]="obj['isAutoAllot']
                                         && getControlDebug(objIndex, 'allotDebug')['status']
                                         && (getControlDebug(objIndex, 'allotDebug')['status'] != 'YES')">
                        
<span class="dsp-inline-block valign-top" [popover]="'bottom'" [align]="'middle'" [elementTarget]="'prev'">
    <i class="fa fa-info-circle txt-lg txt-info js_icon"></i>
    <div class="popover fade bottom in js_popover">
        <div class="arrow arrow-middle"></div>
        <h3 class="popover-title">Missing allot</h3>
        <div class="popover-content">                                <div *ngFor="let debugDetail of getControlDebug(objIndex, 'allotDebug')['detail'];">
                                    <ng-template [ngIf]="debugDetail['status'] != 'YES'">
                                        <span class="status -{{ _statusMap[debugDetail['status']] || 'danger' }}"></span><span
                                        >&nbsp;{{debugDetail['date']}}</span><span
                                        >&nbsp;({{debugDetail['free'] - obj['quantity']}})</span>
                                    </ng-template>
                                </div>
                            </div>
    </div>
</span>                    </ng-template>
                </div>
            </div>
            <div class="col-sm-3 txt-align-r">
                <strong>Price</strong><div [innerHTML]="obj['totalSell']"></div>
            </div>
        </div>
        <div class="form-group" *ngIf="obj['isEnabledAvailability'] || obj['isEnabledAllot'] || obj['isEnabledPrice']">
            <div class="col-sm-3">
                <button class="btn"
                        type="button"
                        (click)="debugAction(objIndex, $event)">Debug</button>
            </div>
            <div class="col-sm-3 chkStatus" *ngIf="obj['isEnabledAvailability']">
                <div class="checkbox"><label><input type="checkbox"
                                                    [name]="'form[isAutoAvailability][' + obj['packageServiceServiceObj'] + ']'"
                                                    value="1"
                                                    [(ngModel)]="obj['isAutoAvailability']">&nbsp;Is auto availability</label></div>
                &nbsp;<span
                            *ngIf="obj['isAutoAvailability']"
                            class="status -{{ _statusMap[getControlDebug(objIndex, 'availabilityDebug')['status']] || 'danger' }}"></span>
            </div>
            <div class="col-sm-3 chkStatus" *ngIf="obj['isEnabledAllot']">
                <div class="checkbox"><label><input type="checkbox"
                                                    [name]="'form[isAutoAllot][' + obj['packageServiceServiceObj'] + ']'"
                                                    value="1"
                                                    [(ngModel)]="obj['isAutoAllot']">&nbsp;Is auto allot</label></div>
                &nbsp;<span
                            *ngIf="obj['isAutoAllot']"
                            class="status -{{ _statusMap[getControlDebug(objIndex, 'allotDebug')['status']] || 'danger' }}"></span>
            </div>
            <div class="col-sm-3 chkStatus" *ngIf="obj['isEnabledPrice']">
                <div class="checkbox"><label><input type="checkbox"
                                                    [name]="'form[isAutoPrice][' + obj['packageServiceServiceObj'] + ']'"
                                                    value="1"
                                                    [(ngModel)]="obj['isAutoPrice']">&nbsp;Is auto price</label></div>
                &nbsp;<span
                            *ngIf="obj['isAutoPrice']"
                            class="status -{{ _statusMap[getControlDebug(objIndex, 'priceDebug')['status']] || 'danger' }}"></span>
            </div>
        </div>
    </div></td>
                            </tr>
            </ng-template>
            </tbody>
        </table>
        </form>    </div>
    </ng-template><p
        class="text-center"
        *ngIf="!(_dataService.getProviderAttr('objects') && _dataService.getProviderAttr('objects')[0])">No results.</p>
</div>
    
</div>

    <div class="row m-t-md">
        <div class="col-sm-10 col-sm-offset-2">
            <button class="btn-primary btn"
                    type="button"
                    (click)="changeAction($event)"><i class="fa fa-check"></i>&nbsp;Change</button>
        </div>
    </div>
